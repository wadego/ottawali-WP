import{x as C,r as I,F as U,j as o,av as v,aw as N,l as w}from"./main.js";import{a as P,R as d}from"./MetaData-476729d9.js";import{I as u}from"./IconButton-18a73260.js";import"./Typography-c1919a6b.js";const R=({tableId:A,rowRef:i,metaData:e,data:_,doActions:l})=>{var m,f,x,k,j,E;const r=P(n=>C(n,A));I.useEffect(()=>{var n,s,c;U(r==null?void 0:r.viewLink,(n=r==null?void 0:r.transactions)==null?void 0:n.insert,(s=r==null?void 0:r.transactions)==null?void 0:s.update,(c=r==null?void 0:r.transactions)==null?void 0:c.delete)});const y=()=>{l(d.VIEW,p())},a=()=>{l(d.UPDATE,p())},h=()=>{confirm("Are you sure you want to delete this row? This action cannot be undone!")&&l(d.DELETE,p())};i.current.handleView=y,i.current.handleUpdate=a,i.current.handleDelete=h;const p=()=>{const n={};if(w.debug(e.primary_key),e.primary_key&&Array.isArray(e.primary_key))for(let s=0;s<e.primary_key.length;s++){const c=e.primary_key[s].name,t=e.primary_key[s].index;n[c]=_[t].replaceAll('"','\\"')}return w.debug(n),n};return o.jsxs(v,{theme:N,children:[r.viewLink&&o.jsx(u,{onClick:y,color:"primary",children:o.jsx("i",{className:"fa-solid fa-eye"})}),((m=r==null?void 0:r.transactions)==null?void 0:m.update)&&((x=(f=e==null?void 0:e.access)==null?void 0:f.update)==null?void 0:x.some(n=>n.toUpperCase()==="POST"))&&o.jsx(u,{onClick:a,color:"primary",children:o.jsx("i",{className:"fa-solid fa-pen-to-square"})}),((k=r==null?void 0:r.transactions)==null?void 0:k.delete)&&((E=(j=e==null?void 0:e.access)==null?void 0:j.delete)==null?void 0:E.some(n=>n.toUpperCase()==="POST"))&&o.jsx(u,{onClick:h,color:"primary",children:o.jsx("i",{className:"fa-solid fa-trash"})})]})};export{R as RowAction,R as default};
